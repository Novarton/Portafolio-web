---

const sagszImages = [
  { src: "/images/sagsz-1.png", alt: "Login de SAGSZ" },
  { src: "/images/sagsz-2.png", alt: "Panel Inicial de SAGSZ" },
  { src: "/images/sagsz-3.png", alt: "Formulario de Crianza" },
  { src: "/images/sagsz-4.png", alt: "Simulando Producción" },
];

const homelabImages = [
  { src: "/images/servidor-fisico.svg", alt: "Mi servidor casero" },
  { src: "/images/htop.svg", alt: "Monitor de recursos htop" },
  { src: "/images/diagrama-red.png", alt: "Diagrama de mi red" },
  { src: "/images/produccion.svg", alt: "Simulando Producción" }, 
];
---

<section id="proyectos" class="py-16 md:py-24">
  <h2 class="text-3xl md:text-4xl font-bold text-white mb-12 text-center">
    Showcase (Proyecto e Infraestructura)
  </h2>

  <div 
    x-data="{ sagszModalOpen: false, homelabModalOpen: false }"
    class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start"
  >

    <article>
      <h3 class="text-2xl font-bold text-cyan-400 mb-4">Proyecto SAGSZ (ERS/CRM)</h3>

      <p class="text-gray-300 mb-6">
        Un ERS/CRM para servicios zootécnicos...
      </p>
      
      <img 
        src={sagszImages[0].src} 
        alt={sagszImages[0].alt}
        class="border border-gray-700 rounded-lg mb-6 aspect-video object-cover"
      />
      
      <button 
        @click="sagszModalOpen = true; $nextTick(() => { refreshFsLightbox() });"
        class="bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-5 rounded-lg transition-colors w-full mb-6"
      >
        Ver Galería del Proyecto
      </button>

      <div class="flex flex-wrap gap-2">
        <span class="bg-cyan-900/50 ...">Laravel</span>
        <span class="bg-cyan-900/50 ...">PostgreSQL</span>
        <span class="bg-cyan-900/50 ...">Alpine.js</span>
      </div>
    </article>

    <article>
      <h3 class="text-2xl font-bold text-cyan-400 mb-4">Mi Home Lab (DevOps)</h3>
      <p class="text-gray-300 mb-6">
        Para alojar SAGSZ, construí mi propio servidor...
      </p>

      <img 
        src="/images/diagrama-red.png" 
        alt="Diagrama de mi red de Home Lab" 
        class="border border-gray-700 rounded-lg mb-6"
      />

      <button 
        @click="homelabModalOpen = true; $nextTick(() => { refreshFsLightbox() });"
        class="bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-5 rounded-lg transition-colors w-full"
      >
        Ver Galería del Home Lab
      </button>
    </article>

    
    <div 
      x-show="sagszModalOpen" 
      x-transition
      @keydown.escape.window="sagszModalOpen = false"
      class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4"
      style="display: none;" 
    >
      <div 
        @click.outside="sagszModalOpen = false" 
        class="bg-gray-800 rounded-lg shadow-2xl max-w-3xl w-full border border-gray-700"
      >
        <div class="flex justify-between items-center p-4 border-b border-gray-700">
          <h3 class="text-lg font-semibold text-white">Galería: Proyecto SAGSZ</h3>
          <button @click="sagszModalOpen = false" class="text-gray-400 hover:text-white">&times;</button>
        </div>
        <div class="p-6">
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            {sagszImages.map(img => (
              <a href={img.src} data-fslightbox="sagsz-gallery">
                <img src={img.src} alt={img.alt} class="rounded-md aspect-video object-cover" />
              </a>
            ))}
          </div>
        </div>
      </div>
    </div>

    <div 
      x-show="homelabModalOpen" 
      x-transition
      @keydown.escape.window="homelabModalOpen = false"
      class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4"
      style="display: none;" 
    >
      <div 
        @click.outside="homelabModalOpen = false" 
        class="bg-gray-800 rounded-lg shadow-2xl max-w-3xl w-full border border-gray-700"
      >
        <div class="flex justify-between items-center p-4 border-b border-gray-700">
          <h3 class="text-lg font-semibold text-white">Galería: Home Lab</h3>
          <button @click="homelabModalOpen = false" class="text-gray-400 hover:text-white">&times;</button>
        </div>
        <div class="p-6">
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
            {homelabImages.map(img => (
              <a href={img.src} data-fslightbox="homelab-gallery">
                <img src={img.src} alt={img.alt} class="rounded-md aspect-square object-cover" />
              </a>
            ))}
          </div>
        </div>
      </div>
    </div>

  </div>
</section>